{% extends "base.html" %}

{% block title %}Content Editorial Assistant - Intelligent Writing Analysis{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index-page.css') }}" />
{% endblock %}

{% block content %}
<!-- Enhanced Modern Editor Section -->
<section class="modern-editor-section">
    <div class="editor-container">
        <div class="content-editor-wrapper">
            <div class="editor-card">
                <!-- Enhanced Editor Header -->
                <div class="editor-header">
                    <div class="editor-title-section">
                        <h2 class="editor-title">
                            <i class="fas fa-edit editor-title-icon"></i>
                            Review content
                        </h2>
                        <p class="editor-subtitle">
                            Upload a document or paste your content to get instant AI-powered feedback
                        </p>
                    </div>
                </div>

                <!-- Enhanced Editor Body -->
                <div class="editor-body">
                    <!-- Refined Input Method Tabs -->
                    <div class="input-method-tabs">
                        <button class="input-tab active" data-method="text">
                            <i class="fas fa-keyboard"></i>
                            <span>Write or Paste</span>
                        </button>
                        <button class="input-tab" data-method="file">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Upload File</span>
                        </button>
                    </div>

                    <!-- Enhanced Text Input Area -->
                    <div class="input-area text-input-area active" id="text-input-area">
                        <div class="editor-interface">
                            <div class="editor-toolbar">
                                <div class="toolbar-left">
                                    <span class="word-count app-text-sm" id="word-count">0 words</span>
                                    <span class="char-count app-text-sm" id="char-count">0 characters</span>
                                </div>
                                <div class="toolbar-right">
                                    <button class="toolbar-btn app-btn-secondary" onclick="loadSampleText()" title="Load sample text">
                                        <i class="fas fa-lightbulb"></i>
                                        <span>Try Sample</span>
                                    </button>
                                    <button class="toolbar-btn app-btn-secondary" onclick="clearEditor()" title="Clear content">
                                        <i class="fas fa-eraser"></i>
                                        <span>Clear</span>
                                    </button>
                                </div>
                            </div>
                            <textarea 
                                class="modern-editor" 
                                id="text-input" 
                                name="text-input"
                                placeholder="Paste your content here or start writing...

Try pasting:
• Blog posts or articles
• Technical documentation  
• Business communications
• Academic papers
• Marketing copy

Our AI will analyze your writing for style, grammar, readability, and structure."
                            ></textarea>
                        </div>
                    </div>

                    <!-- Enhanced File Upload Area -->
                    <div class="input-area file-input-area" id="file-input-area">
                        <input type="file" id="file-input" class="hidden-input" accept=".pdf,.docx,.md,.adoc,.dita,.xml,.txt">
                        <div class="upload-interface upload-zone" id="upload-area">
                            <div class="upload-content">
                                <div class="upload-icon-wrapper">
                                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                </div>
                                <h3 class="upload-title app-title-sm">Drop your document here</h3>
                                <p class="upload-description app-text-body">
                                    or <button class="upload-link" onclick="document.getElementById('file-input').click()">browse files</button>
                                </p>
                                <div class="supported-formats">
                                    <div class="formats-list">
                                        <span class="format-item">PDF</span>
                                        <span class="format-item">DOCX</span>
                                        <span class="format-item">Markdown</span>
                                        <span class="format-item">AsciiDoc</span>
                                        <span class="format-item">DITA</span>
                                        <span class="format-item">XML</span>
                                    </div>
                                    <p class="size-limit app-text-xs">Maximum file size: 16MB</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Enhanced Action Buttons -->
                    <div class="editor-actions">
                        <div class="analysis-controls">
                            <!-- Content Type Selection -->
                            <div class="content-type-selection">
                                <label for="content-type-select" class="content-type-label app-text-sm">Content Type:</label>
                                <div class="dropdown-wrapper">
                                    <select id="content-type-select" class="content-type-dropdown">
                                        <option value="concept">Concept</option>
                                        <option value="procedure">Procedure</option>
                                        <option value="reference">Reference</option>
                                        <option value="assembly">Assembly</option>
                                    </select>
                                    <i class="fas fa-chevron-down dropdown-arrow"></i>
                                </div>
                            </div>
                            
                            <!-- Enhanced Analyze Button -->
                            <button class="primary-action app-btn-primary" onclick="analyzeEditorContent()" disabled id="analyze-btn">
                                <i class="fas fa-magic"></i>
                                <span>Analyze Content</span>
                                <div class="button-shine"></div>
                            </button>
                        </div>
                        
                        <div class="action-help">
                            <i class="fas fa-info-circle"></i>
                            <span class="app-text-xs">Analysis takes less than a minute</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Results Section -->
<section class="pf-v5-u-py-lg">
    <div id="analysis-results" class="fade-in">
        <!-- Analysis results will be displayed here by JavaScript -->
    </div>
    <div id="rewrite-results" class="fade-in">
        <!-- Rewrite results will be displayed here by JavaScript -->
    </div>
</section>
{% endblock %}

{% block extra_js %}
{% endblock %}
